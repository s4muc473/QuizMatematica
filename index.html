<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>geolocalização</title>
</head>

<body>
    <button onclick="localizationPushCTO()">localizar CTO</button>
    <button onclick="localizationPushClient()">localizar Cliente</button>

    <script>
        function localizationPushClient() {
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    
                    const lat = position.coords.latitude;
                    const lon = position.coords.longitude;
                    alert(`https://www.google.com/maps?q=${lat},${lon}`);
                    const mapsLink = `https://www.google.com/maps?q=${lat},${lon}`;
                    console.log("Localização do cliente: ", mapsLink);
                    // setValue('mapslinkclient', mapsLink);

                    const linkLoc = document.createElement('a');
                    linkLoc.href = `https://www.google.com/maps?q=${lat},${lon}`;
                    linkLoc.textContent = "localização atual"
                    linkLoc.target = '_blank'
                    document.body.appendChild(linkLoc);
                },
                (error) => {
                    console.error("Erro ao obter localização do cliente:", error.message);

                    // setValue('mapslinkclient', "");
                },

                {
                    enableHighAccuracy: true,
                    timeout: 5000,
                    maximumAge: 0
                }
            );
        }

        function localizationPushCTO() {
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const lat = position.coords.latitude;
                    const lon = position.coords.longitude;
                    const mapsLink = `https://www.google.com/maps?q=${lat},${lon}`;
                    console.log("Localização da CTO: ", mapsLink);
                    // setValue('mapslinkcto', mapsLink);

                    const linkLoc = document.createElement('a');
                    linkLoc.href = `https://www.google.com/maps?q=${lat},${lon}`;
                    linkLoc.textContent = "localização atual"
                    linkLoc.target = '_blank'
                    document.body.appendChild(linkLoc);
                },
                (error) => {
                    console.error("Erro ao obter localização do cliente:", error.message);
                    // setValue('mapslinkcto', "");
                },
                {
                    enableHighAccuracy: true,
                    timeout: 5000,
                    maximumAge: 0
                }
            );
        }
    </script>
</body>

</html>
